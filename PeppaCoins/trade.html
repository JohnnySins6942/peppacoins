<html>
    <head>
        <title> Form </title>
        <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-analytics.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-firestore.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-database.js"></script>
        <script src="main.js"></script>
        <link rel="stylesheet" href="main.css">
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    </head>
    <div id="loading"></div>


    <script>$(document).ready(function(){
        var BitcoinPrice = document.getElementById("BitcoinPrice");
        var BitcoinPeppa = document.getElementById("BitcoinPeppa");
        var docRef = db.collection("data").doc("data");
        docRef.get().then((doc) => {
            if (doc.exists) {
                $("#BTCPEPPAmount").on("change", function(){
                tempTrade = Number($(this).val());
                if(tempTrade < 650000)
                {
                    tempTrade = 650000
                    $("#BTCPEPPAmount").val(tempTrade.toString());
                }
                var data = doc.data();
                var TradeAmount = document.getElementById("BTCPEPPAmount").value;
                var value = data.BitcoinValue;
                BitcoinPrice.innerHTML = "Bitcoin Price: " + value.toString() + "USD";
                var peppaToBTC = value / data.PeppaValue;
                BitcoinPeppa.innerHTML = "1 Bitcoin ≈ " + peppaToBTC + "PEPPA";
                var num = TradeAmount/peppaToBTC;
                var num1 = (num - 0.0004);
                    $("#BitcoinPeppaOutput").text("≈ " + num.toFixed(8).toString() + " BTC");
                    $("#BitcoinPeppaOutputAfterFees").text("After Fees ≈ " + num1.toFixed(8).toString() + " BTC");
                })
            }
        })
    })</script>

    <body>
        <div>
        <button onclick = "Navigate('wallet')" id = "wallet">Wallet</button>
        <button onclick = "Navigate('faucet')" id = "faucet">Faucet</button>
        <button onclick = "Navigate('gambling')" id = "gambling">Gambling</button>
        <button onclick = "Navigate('trade')" id = "trade">Trade</button>
        <button onclick = "Navigate('referrals')" id = "referrals">Referrals</button>
        <h1 id = "PeppaPrice">PeppaCoins Price: 0.000000006USD</h1>
        </div>
        <h1>Purchase PeppaCoins</h1>
        <button>Purchase PeppaCoins</button>

        <h1>Trade PeppaCoins</h1>
        <div>
        <h1>Bitcoin</h1>
        <h1 id = "BitcoinPrice">Bitcoin Price: 50,000</h1>
        <h1 id = "BitcoinPeppa">1 Bitcoin ≈ 500000000 PEPPA</h1>
        <input type="number" placeholder="Amount of PEPPA to exchange" id="BTCPEPPAmount" value ="650000"/>
        <input type="text" placeholder="Bitcoin Address" id="BTCADDRESS"/>
        <h1 id = "BtcFees">Fees = 0.0004 BTC</h1>
        <h1 id = "BitcoinPeppaOutput">≈ 0.00045843 BTC</h1>
        <h1 id = "BitcoinPeppaOutputAfterFees">After Fees ≈ 0.00005843 BTC</h1>
        <button onclick = "Redeem('bitcoin')">Exchange Peppa To Bitcoin!</button>

        <button id="AmazonBtn">Redeem Amazon Gift Card</button>

        <div id="AmazonModal" class="modal">

        <div class="modal-content">
            <span class="close">&times;</span>
            <h1>Choose Gift Cards to redeem</h1>
            <div>
            <div>
              <h2>10$ Amazon Gift Card</h2>
              <h3 id="10AGC">Price: </h3>
              <h3>Fee: 7.5%</h3>    
              <button onclick="ClaimGiftCard('AmazonGiftCard', '10')">Redeem Gift Card!</button>
            </div>
            <div>
                <h2>25$ Amazon Gift Card</h2>  
                <h3 id="25AGC">Price: </h3>
                <h3>Fee: 7.5%</h3>    
                <button onclick="ClaimGiftCard('AmazonGiftCard', '25')">Redeem Gift Card!</button>
            </div>
            <div>
                <h2>50$ Amazon Gift Card</h2> 
                <h3 id="50AGC">Price: </h3>
                <h3>Fee: 7.5%</h3>    
                <button onclick="ClaimGiftCard('AmazonGiftCard', '50')">Redeem Gift Card!</button>
            </div>
            <div>
                <h2>100$ Amazon Gift Card</h2> 
                <h3 id="100AGC">Price: </h3>
                <h3>Fee: 7.5%</h3>    
                <button onclick="ClaimGiftCard('AmazonGiftCard', '100')">Redeem Gift Card!</button>
            </div>
            <div>
                <h2>250$ Amazon Gift Card</h2>  
                <h3 id="250AGC">Price: </h3>
                <h3>Fee: 7.5%</h3>    
                <button onclick="ClaimGiftCard('AmazonGiftCard', '250')">Redeem Gift Card!</button>
            </div>
            <div>
                <h2>500$ Amazon Gift Card</h2>  
                <h3 id="500AGC">Price: </h3>  
                <h3>Fee: 7.5%</h3>    
                <button onclick="ClaimGiftCard('AmazonGiftCard', '500')">Redeem Gift Card!</button>
            </div>
            <div>
                <h2>1000$ Amazon Gift Card</h2>
                <h3 id="1000AGC">Price: </h3>  
                <h3>Fee: 7.5%</h3>    
                <button onclick="ClaimGiftCard('AmazonGiftCard', '1000')">Redeem Gift Card!</button>
            </div>
            <div>
                <h2>2500$ Amazon Gift Card</h2>  
                <h3 id="2500AGC">Price: </h3>
                <h3>Fee: 7.5%</h3>    
                <button onclick="ClaimGiftCard('AmazonGiftCard', '2500')">Redeem Gift Card!</button>
            </div>
            </div>
        </div>

</div>

        </div>

    </body>
</html>
